<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Аналізатор тексту</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous">

</script>
<script> 
$(function(){
  $("#header").load("header.html"); 
  $("#footer").load("footer.html"); 
});
</script> 

</head>
<body>
    <div id="header"></div>

  <div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3 mt-5">
            <textarea id="textInput" class="form-control" rows="5" placeholder="Тут має бути ваш текст"></textarea>
            <button id="analyzeButton" class="btn btn-primary mt-3">Проаналізувати</button>
        </div>
    </div>
</div>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <h2>Результати аналізу</h2>
            <p>Кількість слів: <span id="wordCount">0</span></p>
            <p>Кількість знаків пунктуації: <span id="punctuationCount">0</span></p>
            <p>Кількість символів: <span id="charCount">0</span></p>
            <p>Кількість великих літер: <span id="capitalCount">0</span></p>
            <p>Мова тексту: <span id="language"></span></p>
            <p>Ключові слова: <span id="keywords"></span></p>
            <p>Кількість речень: <span id="sentenceCount"></span></p>
            <p>Середня довжина слова: <span id="averageWordLength"></span></p>


            
        </div>
    </div>
</div>
<div id="footer"></div>
<script>
    $(function () {
        $("#analyzeButton").click(function () {
            var inputText = $("#textInput").val();

            var wordCount = inputText.split(/\s+/).filter(Boolean).length;
            var punctuationCount = (inputText.match(/[.,!?;:'"]/g) || []).length;
            var charCount = inputText.length;
            var capitalCount = (inputText.match(/[А-Я]/g) || []).length+(inputText.match(/[A-Z]/g) || []).length;

            $("#wordCount").text(wordCount);
            $("#punctuationCount").text(punctuationCount);
            $("#charCount").text(charCount);
            $("#capitalCount").text(capitalCount);

            var language = detectLanguage(inputText);
            $("#language").text(language);  

            var topKeywords = extractKeywords(inputText, 10);
$("#keywords").text(topKeywords.join(", "));

var sentenceCount = (inputText.match(/[.!?]/g) || []).length;
$("#sentenceCount").text(sentenceCount);

var words = inputText.split(/\s+/).filter(Boolean);
var totalWordLength = words.reduce(function (sum, word) {
    return sum + word.length;
}, 0);
var averageWordLength = totalWordLength / wordCount;
$("#averageWordLength").text(averageWordLength.toFixed(1));
        });
    });
    function detectLanguage(text) {
    if (text.match(/[A-Za-z]/)) {
        return "Англійська";
    } else if (text.match(/[А-Яа-я]/)) {
        return "Українська";
    } else {
        return "Невідомо";
    }
}
function extractKeywords(text, limit) {
    var words = text.split(/\s+/).filter(Boolean);
    var wordCountMap = {};

    words.forEach(function (word) {
        var cleanWord = word.toLowerCase();
        if (wordCountMap[cleanWord]) {
            wordCountMap[cleanWord]++;
        } else {
            wordCountMap[cleanWord] = 1;
        }
    });

    var sortedWords = Object.keys(wordCountMap).sort(function (a, b) {
        return wordCountMap[b] - wordCountMap[a];
    });

    return sortedWords.slice(0, limit);
}
</script>
</body>
</html>